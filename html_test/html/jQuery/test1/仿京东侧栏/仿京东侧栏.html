<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>仿京东侧栏</title>
    <style>
        *{
            margin:0;
            padding:0;
        }
        ul{
            list-style: none;
        }
        .top,.dian,.jia,.fu,.mei,.bottom{
            width:1210px;
            margin:0 auto;
        }
        .nav{
            position: fixed;
            top:100px;
            right:30px;
            width:38px;
            height:200px;
            display: none;
        }
        .nav li{
            height:36px;
            border: 1px solid gray;
            font-size: 0;
            background: url("images/bg.png") no-repeat;
            margin-bottom: 5px;
        }
        .nav li:hover,.nav section,li.current{
            border: 1px solid red;
            background:#FDEEEE;
            font-size: 12px;
            color: red;
            padding-left: 6px;
            padding-top:3px;
            height:34px;
            cursor: pointer;
        }
    </style>
    <script src="../jquery-1.11.1.min.js"></script>
    <script>
        $(document).ready(function(){
            var num = 0,$li = $(".nav li"),$section = $(".nav section"),$nav=$(".nav");
            $li.each(function(i,ele){
                num=i*55;
                $(ele).css("background-position","0-"+num+"px");
            });

            var $Top=0;
            $(window).scroll(function(){
                $Top = $(document).scrollTop();
                if($Top>=$(".mei").offset().top){
                    $li.eq(3).addClass("current").siblings().removeClass();
                }
                else if($Top>=$(".fu").offset().top){
                    $li.eq(2).addClass("current").siblings().removeClass();
                }
                else if($Top>=$(".jia").offset().top){
                    $li.eq(1).addClass("current").siblings().removeClass();
                }
                else if($Top>=$(".dian").offset().top){
                    $li.eq(0).addClass("current").siblings().removeClass();
                }
                else if($Top>0)
                {
                    $nav.fadeIn();
                }
                else
                    $nav.fadeOut();
            });
            $li.click(function(){
                $("html,body").stop().animate({
                    "scrollTop" : $(".jd").eq($(this).index()).offset().top
                },1000);
//                console.log($(".jd").eq($(this).index()).offset().top);
            });
            $section.click(function(){
                $("html,body").stop().animate({
                    "scrollTop":0
                },300);
            });
        });
    </script>
</head>
<body>
    <div class="top">
        <img src="images/top.png" alt="">
    </div>
    <div class="jd dian">
        <img src="images/dian.png" alt="">
    </div>
    <div class="jd jia">
        <img src="images/jia.png" alt="">
    </div>
    <div class="jd fu">
        <img src="images/fu.png" alt="">
    </div>
    <div class="jd mei">
        <img src="images/mei.png" alt="">
    </div>
    <div class="bottom">
        <img src="images/bottom.png" alt="">
    </div>
    <div class="nav">
        <ul>
            <li>电脑数码</li>
            <li>家电通讯</li>
            <li>服饰精品</li>
            <li>美容珠宝</li>
        </ul>
        <section>返回</section>
    </div>
</body>
</html>