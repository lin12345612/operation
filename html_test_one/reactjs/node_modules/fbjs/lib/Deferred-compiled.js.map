{"version":3,"sources":["Deferred.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,UAAU,QAAQ,WAAR,CAAd;;AAEA,SAAS,eAAT,CAAyB,QAAzB,EAAmC,WAAnC,EAAgD;AAAE,MAAI,EAAE,oBAAoB,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAI,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ;;;;;;;;;;AAUA;;;;;;;;;AASA,IAAI,WAAW,YAAY;AACzB,WAAS,QAAT,GAAoB;AAClB,QAAI,QAAQ,IAAZ;;AAEA,oBAAgB,IAAhB,EAAsB,QAAtB;;AAEA,SAAK,QAAL,GAAgB,KAAhB;AACA,SAAK,QAAL,GAAgB,IAAI,OAAJ,CAAY,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AACrD,YAAM,QAAN,GAAiB,OAAjB;AACA,YAAM,OAAN,GAAgB,MAAhB;AACD,KAHe,CAAhB;AAID;;AAED,WAAS,SAAT,CAAmB,UAAnB,GAAgC,SAAS,UAAT,GAAsB;AACpD,WAAO,KAAK,QAAZ;AACD,GAFD;;AAIA,WAAS,SAAT,CAAmB,OAAnB,GAA6B,SAAS,OAAT,CAAiB,KAAjB,EAAwB;AACnD,SAAK,QAAL,GAAgB,IAAhB;AACA,SAAK,QAAL,CAAc,KAAd;AACD,GAHD;;AAKA,WAAS,SAAT,CAAmB,MAAnB,GAA4B,SAAS,MAAT,CAAgB,MAAhB,EAAwB;AAClD,SAAK,QAAL,GAAgB,IAAhB;AACA,SAAK,OAAL,CAAa,MAAb;AACD,GAHD;;AAKA,WAAS,SAAT,CAAmB,OAAnB,IAA8B,SAAS,MAAT,CAAgB,QAAhB,EAA0B;AACtD,WAAO,QAAQ,SAAR,CAAkB,OAAlB,EAA2B,KAA3B,CAAiC,KAAK,QAAtC,EAAgD,SAAhD,CAAP;AACD,GAFD;;AAIA,WAAS,SAAT,CAAmB,IAAnB,GAA0B,SAAS,IAAT,CAAc,SAAd,EAAyB,QAAzB,EAAmC;AAC3D,WAAO,QAAQ,SAAR,CAAkB,IAAlB,CAAuB,KAAvB,CAA6B,KAAK,QAAlC,EAA4C,SAA5C,CAAP;AACD,GAFD;;AAIA,WAAS,SAAT,CAAmB,IAAnB,GAA0B,SAAS,IAAT,CAAc,SAAd,EAAyB,QAAzB,EAAmC;AAC3D;AACA;AACA,QAAI,UAAU,UAAU,MAAV,GAAmB,KAAK,QAAL,CAAc,IAAd,CAAmB,KAAnB,CAAyB,KAAK,QAA9B,EAAwC,SAAxC,CAAnB,GAAwE,KAAK,QAA3F;AACA,YAAQ,IAAR,CAAa,SAAb,EAAwB,UAAU,GAAV,EAAe;AACrC,iBAAW,YAAY;AACrB,cAAM,GAAN;AACD,OAFD,EAEG,CAFH;AAGD,KAJD;AAKD,GATD;;AAWA,WAAS,SAAT,CAAmB,SAAnB,GAA+B,SAAS,SAAT,GAAqB;AAClD,WAAO,KAAK,QAAZ;AACD,GAFD;;AAIA,SAAO,QAAP;AACD,CAnDc,EAAf;;AAqDA,OAAO,OAAP,GAAiB,QAAjB","file":"Deferred-compiled.js","sourcesContent":["\"use strict\";\n\nvar Promise = require(\"./Promise\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @typechecks\n * \n */\n\n/**\n * Deferred provides a Promise-like API that exposes methods to resolve and\n * reject the Promise. It is most useful when converting non-Promise code to use\n * Promises.\n *\n * If you want to export the Promise without exposing access to the resolve and\n * reject methods, you should export `getPromise` which returns a Promise with\n * the same semantics excluding those methods.\n */\nvar Deferred = function () {\n  function Deferred() {\n    var _this = this;\n\n    _classCallCheck(this, Deferred);\n\n    this._settled = false;\n    this._promise = new Promise(function (resolve, reject) {\n      _this._resolve = resolve;\n      _this._reject = reject;\n    });\n  }\n\n  Deferred.prototype.getPromise = function getPromise() {\n    return this._promise;\n  };\n\n  Deferred.prototype.resolve = function resolve(value) {\n    this._settled = true;\n    this._resolve(value);\n  };\n\n  Deferred.prototype.reject = function reject(reason) {\n    this._settled = true;\n    this._reject(reason);\n  };\n\n  Deferred.prototype[\"catch\"] = function _catch(onReject) {\n    return Promise.prototype[\"catch\"].apply(this._promise, arguments);\n  };\n\n  Deferred.prototype.then = function then(onFulfill, onReject) {\n    return Promise.prototype.then.apply(this._promise, arguments);\n  };\n\n  Deferred.prototype.done = function done(onFulfill, onReject) {\n    // Embed the polyfill for the non-standard Promise.prototype.done so that\n    // users of the open source fbjs don't need a custom lib for Promise\n    var promise = arguments.length ? this._promise.then.apply(this._promise, arguments) : this._promise;\n    promise.then(undefined, function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    });\n  };\n\n  Deferred.prototype.isSettled = function isSettled() {\n    return this._settled;\n  };\n\n  return Deferred;\n}();\n\nmodule.exports = Deferred;"]}