{"version":3,"sources":["test.js"],"names":[],"mappings":"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","file":"test-compiled.js","sourcesContent":["\n// test tools\nvar chai = require('chai');\nvar cap = require('chai-as-promised');\nchai.use(cap);\nvar expect = chai.expect;\nvar bluebird = require('bluebird');\nvar then = require('promise');\nvar spawn = require('child_process').spawn;\nvar stream = require('stream');\nvar resumer = require('resumer');\nvar FormData = require('form-data');\nvar http = require('http');\nvar fs = require('fs');\n\nvar TestServer = require('./server');\n\n// test subjects\nvar fetch = require('../index.js');\nvar Headers = require('../lib/headers.js');\nvar Response = require('../lib/response.js');\nvar Request = require('../lib/request.js');\nvar Body = require('../lib/body.js');\nvar FetchError = require('../lib/fetch-error.js');\n// test with native promise on node 0.11, and bluebird for node 0.10\nfetch.Promise = fetch.Promise || bluebird;\n\nvar url, opts, local, base;\n\ndescribe('node-fetch', function() {\n\n\tbefore(function(done) {\n\t\tlocal = new TestServer();\n\t\tbase = 'http://' + local.hostname + ':' + local.port;\n\t\tlocal.start(done);\n\t});\n\n\tafter(function(done) {\n\t\tlocal.stop(done);\n\t});\n\n\tit('should return a promise', function() {\n\t\turl = 'http://example.com/';\n\t\tvar p = fetch(url);\n\t\texpect(p).to.be.an.instanceof(fetch.Promise);\n\t\texpect(p).to.have.property('then');\n\t});\n\n\tit('should allow custom promise', function() {\n\t\turl = 'http://example.com/';\n\t\tvar old = fetch.Promise;\n\t\tfetch.Promise = then;\n\t\texpect(fetch(url)).to.be.an.instanceof(then);\n\t\texpect(fetch(url)).to.not.be.an.instanceof(bluebird);\n\t\tfetch.Promise = old;\n\t});\n\n\tit('should throw error when no promise implementation are found', function() {\n\t\turl = 'http://example.com/';\n\t\tvar old = fetch.Promise;\n\t\tfetch.Promise = undefined;\n\t\texpect(function() {\n\t\t\tfetch(url)\n\t\t}).to.throw(Error);\n\t\tfetch.Promise = old;\n\t});\n\n\tit('should expose Headers, Response and Request constructors', function() {\n\t\texpect(fetch.Headers).to.equal(Headers);\n\t\texpect(fetch.Response).to.equal(Response);\n\t\texpect(fetch.Request).to.equal(Request);\n\t});\n\n\tit('should reject with error if url is protocol relative', function() {\n\t\turl = '//example.com/';\n\t\treturn expect(fetch(url)).to.eventually.be.rejectedWith(Error);\n\t});\n\n\tit('should reject with error if url is relative path', function() {\n\t\turl = '/some/path';\n\t\treturn expect(fetch(url)).to.eventually.be.rejectedWith(Error);\n\t});\n\n\tit('should reject with error if protocol is unsupported', function() {\n\t\turl = 'ftp://example.com/';\n\t\treturn expect(fetch(url)).to.eventually.be.rejectedWith(Error);\n\t});\n\n\tit('should reject with error on network failure', function() {\n\t\turl = 'http://localhost:50000/';\n\t\treturn expect(fetch(url)).to.eventually.be.rejected\n\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t.and.include({ type: 'system', code: 'ECONNREFUSED', errno: 'ECONNREFUSED' });\n\t});\n\n\tit('should resolve into response', function() {\n\t\turl = base + '/hello';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res).to.be.an.instanceof(Response);\n\t\t\texpect(res.headers).to.be.an.instanceof(Headers);\n\t\t\texpect(res.body).to.be.an.instanceof(stream.Transform);\n\t\t\texpect(res.bodyUsed).to.be.false;\n\n\t\t\texpect(res.url).to.equal(url);\n\t\t\texpect(res.ok).to.be.true;\n\t\t\texpect(res.status).to.equal(200);\n\t\t\texpect(res.statusText).to.equal('OK');\n\t\t});\n\t});\n\n\tit('should accept plain text response', function() {\n\t\turl = base + '/plain';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(res.bodyUsed).to.be.true;\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.equal('text');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should accept html response (like plain text)', function() {\n\t\turl = base + '/html';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/html');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(res.bodyUsed).to.be.true;\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.equal('<html></html>');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should accept json response', function() {\n\t\turl = base + '/json';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('application/json');\n\t\t\treturn res.json().then(function(result) {\n\t\t\t\texpect(res.bodyUsed).to.be.true;\n\t\t\t\texpect(result).to.be.an('object');\n\t\t\t\texpect(result).to.deep.equal({ name: 'value' });\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should send request with custom headers', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\theaders: { 'x-custom-header': 'abc' }\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.headers['x-custom-header']).to.equal('abc');\n\t\t});\n\t});\n\n\tit('should accept headers instance', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\theaders: new Headers({ 'x-custom-header': 'abc' })\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.headers['x-custom-header']).to.equal('abc');\n\t\t});\n\t});\n\n\tit('should accept custom host header', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\theaders: {\n\t\t\t\thost: 'example.com'\n\t\t\t}\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.headers['host']).to.equal('example.com');\n\t\t});\n\t});\n\n\tit('should follow redirect code 301', function() {\n\t\turl = base + '/redirect/301';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t\texpect(res.ok).to.be.true;\n\t\t});\n\t});\n\n\tit('should follow redirect code 302', function() {\n\t\turl = base + '/redirect/302';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t});\n\t});\n\n\tit('should follow redirect code 303', function() {\n\t\turl = base + '/redirect/303';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t});\n\t});\n\n\tit('should follow redirect code 307', function() {\n\t\turl = base + '/redirect/307';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t});\n\t});\n\n\tit('should follow redirect code 308', function() {\n\t\turl = base + '/redirect/308';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t});\n\t});\n\n\tit('should follow redirect chain', function() {\n\t\turl = base + '/redirect/chain';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t});\n\t});\n\n\tit('should follow POST request redirect code 301 with GET', function() {\n\t\turl = base + '/redirect/301';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: 'a=1'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t\treturn res.json().then(function(result) {\n\t\t\t\texpect(result.method).to.equal('GET');\n\t\t\t\texpect(result.body).to.equal('');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should follow POST request redirect code 302 with GET', function() {\n\t\turl = base + '/redirect/302';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: 'a=1'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t\treturn res.json().then(function(result) {\n\t\t\t\texpect(result.method).to.equal('GET');\n\t\t\t\texpect(result.body).to.equal('');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should follow redirect code 303 with GET', function() {\n\t\turl = base + '/redirect/303';\n\t\topts = {\n\t\t\tmethod: 'PUT'\n\t\t\t, body: 'a=1'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t\treturn res.json().then(function(result) {\n\t\t\t\texpect(result.method).to.equal('GET');\n\t\t\t\texpect(result.body).to.equal('');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should obey maximum redirect, reject case', function() {\n\t\turl = base + '/redirect/chain';\n\t\topts = {\n\t\t\tfollow: 1\n\t\t}\n\t\treturn expect(fetch(url, opts)).to.eventually.be.rejected\n\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t.and.have.property('type', 'max-redirect');\n\t});\n\n\tit('should obey redirect chain, resolve case', function() {\n\t\turl = base + '/redirect/chain';\n\t\topts = {\n\t\t\tfollow: 2\n\t\t}\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\texpect(res.status).to.equal(200);\n\t\t});\n\t});\n\n\tit('should allow not following redirect', function() {\n\t\turl = base + '/redirect/301';\n\t\topts = {\n\t\t\tfollow: 0\n\t\t}\n\t\treturn expect(fetch(url, opts)).to.eventually.be.rejected\n\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t.and.have.property('type', 'max-redirect');\n\t});\n\n\tit('should support redirect mode, manual flag', function() {\n\t\turl = base + '/redirect/301';\n\t\topts = {\n\t\t\tredirect: 'manual'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.url).to.equal(url);\n\t\t\texpect(res.status).to.equal(301);\n\t\t\texpect(res.headers.get('location')).to.equal(base + '/inspect');\n\t\t});\n\t});\n\n\tit('should support redirect mode, error flag', function() {\n\t\turl = base + '/redirect/301';\n\t\topts = {\n\t\t\tredirect: 'error'\n\t\t};\n\t\treturn expect(fetch(url, opts)).to.eventually.be.rejected\n\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t.and.have.property('type', 'no-redirect');\n\t});\n\n\tit('should support redirect mode, manual flag when there is no redirect', function() {\n\t\turl = base + '/hello';\n\t\topts = {\n\t\t\tredirect: 'manual'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.url).to.equal(url);\n\t\t\texpect(res.status).to.equal(200);\n\t\t\texpect(res.headers.get('location')).to.be.null;\n\t\t});\n\t});\n\n\tit('should follow redirect code 301 and keep existing headers', function() {\n\t\turl = base + '/redirect/301';\n\t\topts = {\n\t\t\theaders: new Headers({ 'x-custom-header': 'abc' })\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.url).to.equal(base + '/inspect');\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.headers['x-custom-header']).to.equal('abc');\n\t\t});\n\t});\n\n\tit('should reject broken redirect', function() {\n\t\turl = base + '/error/redirect';\n\t\treturn expect(fetch(url)).to.eventually.be.rejected\n\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t.and.have.property('type', 'invalid-redirect');\n\t});\n\n\tit('should not reject broken redirect under manual redirect', function() {\n\t\turl = base + '/error/redirect';\n\t\topts = {\n\t\t\tredirect: 'manual'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.url).to.equal(url);\n\t\t\texpect(res.status).to.equal(301);\n\t\t\texpect(res.headers.get('location')).to.be.null;\n\t\t});\n\t});\n\n\tit('should handle client-error response', function() {\n\t\turl = base + '/error/400';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\texpect(res.status).to.equal(400);\n\t\t\texpect(res.statusText).to.equal('Bad Request');\n\t\t\texpect(res.ok).to.be.false;\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(res.bodyUsed).to.be.true;\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.equal('client error');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should handle server-error response', function() {\n\t\turl = base + '/error/500';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\texpect(res.status).to.equal(500);\n\t\t\texpect(res.statusText).to.equal('Internal Server Error');\n\t\t\texpect(res.ok).to.be.false;\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(res.bodyUsed).to.be.true;\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.equal('server error');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should handle network-error response', function() {\n\t\turl = base + '/error/reset';\n\t\treturn expect(fetch(url)).to.eventually.be.rejected\n\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t.and.have.property('code', 'ECONNRESET');\n\t});\n\n\tit('should handle DNS-error response', function() {\n\t\turl = 'http://domain.invalid';\n\t\treturn expect(fetch(url)).to.eventually.be.rejected\n\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t.and.have.property('code', 'ENOTFOUND');\n\t});\n\n\tit('should reject invalid json response', function() {\n\t\turl = base + '/error/json';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('application/json');\n\t\t\treturn expect(res.json()).to.eventually.be.rejectedWith(Error);\n\t\t});\n\t});\n\n\tit('should handle no content response', function() {\n\t\turl = base + '/no-content';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(204);\n\t\t\texpect(res.statusText).to.equal('No Content');\n\t\t\texpect(res.ok).to.be.true;\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.be.empty;\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should throw on no-content json response', function() {\n\t\turl = base + '/no-content';\n\t\treturn fetch(url).then(function(res) {\n\t\t\treturn expect(res.json()).to.eventually.be.rejectedWith(FetchError);\n\t\t});\n\t});\n\n\tit('should handle no content response with gzip encoding', function() {\n\t\turl = base + '/no-content/gzip';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(204);\n\t\t\texpect(res.statusText).to.equal('No Content');\n\t\t\texpect(res.headers.get('content-encoding')).to.equal('gzip');\n\t\t\texpect(res.ok).to.be.true;\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.be.empty;\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should handle not modified response', function() {\n\t\turl = base + '/not-modified';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(304);\n\t\t\texpect(res.statusText).to.equal('Not Modified');\n\t\t\texpect(res.ok).to.be.false;\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.be.empty;\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should handle not modified response with gzip encoding', function() {\n\t\turl = base + '/not-modified/gzip';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(304);\n\t\t\texpect(res.statusText).to.equal('Not Modified');\n\t\t\texpect(res.headers.get('content-encoding')).to.equal('gzip');\n\t\t\texpect(res.ok).to.be.false;\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.be.empty;\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should decompress gzip response', function() {\n\t\turl = base + '/gzip';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.equal('hello world');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should decompress deflate response', function() {\n\t\turl = base + '/deflate';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.equal('hello world');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should decompress deflate raw response from old apache server', function() {\n\t\turl = base + '/deflate-raw';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.equal('hello world');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should skip decompression if unsupported', function() {\n\t\turl = base + '/sdch';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.equal('fake sdch string');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should reject if response compression is invalid', function() {\n\t\turl = base + '/invalid-content-encoding';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn expect(res.text()).to.eventually.be.rejected\n\t\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t\t.and.have.property('code', 'Z_DATA_ERROR');\n\t\t});\n\t});\n\n\tit('should allow disabling auto decompression', function() {\n\t\turl = base + '/gzip';\n\t\topts = {\n\t\t\tcompress: false\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.be.a('string');\n\t\t\t\texpect(result).to.not.equal('hello world');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should allow custom timeout', function() {\n\t\tthis.timeout(500);\n\t\turl = base + '/timeout';\n\t\topts = {\n\t\t\ttimeout: 100\n\t\t};\n\t\treturn expect(fetch(url, opts)).to.eventually.be.rejected\n\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t.and.have.property('type', 'request-timeout');\n\t});\n\n\tit('should allow custom timeout on response body', function() {\n\t\tthis.timeout(500);\n\t\turl = base + '/slow';\n\t\topts = {\n\t\t\ttimeout: 100\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.ok).to.be.true;\n\t\t\treturn expect(res.text()).to.eventually.be.rejected\n\t\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t\t.and.have.property('type', 'body-timeout');\n\t\t});\n\t});\n\n\tit('should clear internal timeout on fetch response', function (done) {\n\t\tthis.timeout(1000);\n\t\tspawn('node', ['-e', 'require(\"./\")(\"' + base + '/hello\", { timeout: 5000 })'])\n\t\t\t.on('exit', function () {\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\n\tit('should clear internal timeout on fetch redirect', function (done) {\n\t\tthis.timeout(1000);\n\t\tspawn('node', ['-e', 'require(\"./\")(\"' + base + '/redirect/301\", { timeout: 5000 })'])\n\t\t\t.on('exit', function () {\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\n\tit('should clear internal timeout on fetch error', function (done) {\n\t\tthis.timeout(1000);\n\t\tspawn('node', ['-e', 'require(\"./\")(\"' + base + '/error/reset\", { timeout: 5000 })'])\n\t\t\t.on('exit', function () {\n\t\t\t\tdone();\n\t\t\t});\n\t});\n\n\tit('should allow POST request', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('POST');\n\t\t\texpect(res.headers['transfer-encoding']).to.be.undefined;\n\t\t\texpect(res.headers['content-length']).to.equal('0');\n\t\t});\n\t});\n\n\tit('should allow POST request with string body', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: 'a=1'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('POST');\n\t\t\texpect(res.body).to.equal('a=1');\n\t\t\texpect(res.headers['transfer-encoding']).to.be.undefined;\n\t\t\texpect(res.headers['content-length']).to.equal('3');\n\t\t});\n\t});\n\n\tit('should allow POST request with buffer body', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: new Buffer('a=1', 'utf-8')\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('POST');\n\t\t\texpect(res.body).to.equal('a=1');\n\t\t\texpect(res.headers['transfer-encoding']).to.equal('chunked');\n\t\t\texpect(res.headers['content-length']).to.be.undefined;\n\t\t});\n\t});\n\n\tit('should allow POST request with readable stream as body', function() {\n\t\tvar body = resumer().queue('a=1').end();\n\t\tbody = body.pipe(new stream.PassThrough());\n\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: body\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('POST');\n\t\t\texpect(res.body).to.equal('a=1');\n\t\t\texpect(res.headers['transfer-encoding']).to.equal('chunked');\n\t\t\texpect(res.headers['content-length']).to.be.undefined;\n\t\t});\n\t});\n\n\tit('should allow POST request with form-data as body', function() {\n\t\tvar form = new FormData();\n\t\tform.append('a','1');\n\n\t\turl = base + '/multipart';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: form\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('POST');\n\t\t\texpect(res.headers['content-type']).to.contain('multipart/form-data');\n\t\t\texpect(res.headers['content-length']).to.be.a('string');\n\t\t\texpect(res.body).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should allow POST request with form-data using stream as body', function() {\n\t\tvar form = new FormData();\n\t\tform.append('my_field', fs.createReadStream('test/dummy.txt'));\n\n\t\turl = base + '/multipart';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: form\n\t\t};\n\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('POST');\n\t\t\texpect(res.headers['content-type']).to.contain('multipart/form-data');\n\t\t\texpect(res.headers['content-length']).to.be.undefined;\n\t\t\texpect(res.body).to.contain('my_field=');\n\t\t});\n\t});\n\n\tit('should allow POST request with form-data as body and custom headers', function() {\n\t\tvar form = new FormData();\n\t\tform.append('a','1');\n\n\t\tvar headers = form.getHeaders();\n\t\theaders['b'] = '2';\n\n\t\turl = base + '/multipart';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: form\n\t\t\t, headers: headers\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('POST');\n\t\t\texpect(res.headers['content-type']).to.contain('multipart/form-data');\n\t\t\texpect(res.headers['content-length']).to.be.a('string');\n\t\t\texpect(res.headers.b).to.equal('2');\n\t\t\texpect(res.body).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should allow POST request with object body', function() {\n\t\turl = base + '/inspect';\n\t\t// note that fetch simply calls tostring on an object\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: { a:1 }\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('POST');\n\t\t\texpect(res.body).to.equal('[object Object]');\n\t\t});\n\t});\n\n\tit('should allow PUT request', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tmethod: 'PUT'\n\t\t\t, body: 'a=1'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('PUT');\n\t\t\texpect(res.body).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should allow DELETE request', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tmethod: 'DELETE'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('DELETE');\n\t\t});\n\t});\n\n\tit('should allow POST request with string body', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tmethod: 'POST'\n\t\t\t, body: 'a=1'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('POST');\n\t\t\texpect(res.body).to.equal('a=1');\n\t\t\texpect(res.headers['transfer-encoding']).to.be.undefined;\n\t\t\texpect(res.headers['content-length']).to.equal('3');\n\t\t});\n\t});\n\n\tit('should allow DELETE request with string body', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tmethod: 'DELETE'\n\t\t\t, body: 'a=1'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('DELETE');\n\t\t\texpect(res.body).to.equal('a=1');\n\t\t\texpect(res.headers['transfer-encoding']).to.be.undefined;\n\t\t\texpect(res.headers['content-length']).to.equal('3');\n\t\t});\n\t});\n\n\tit('should allow PATCH request', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tmethod: 'PATCH'\n\t\t\t, body: 'a=1'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.method).to.equal('PATCH');\n\t\t\texpect(res.body).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should allow HEAD request', function() {\n\t\turl = base + '/hello';\n\t\topts = {\n\t\t\tmethod: 'HEAD'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\texpect(res.statusText).to.equal('OK');\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\texpect(res.body).to.be.an.instanceof(stream.Transform);\n\t\t\treturn res.text();\n\t\t}).then(function(text) {\n\t\t\texpect(text).to.equal('');\n\t\t});\n\t});\n\n\tit('should allow HEAD request with content-encoding header', function() {\n\t\turl = base + '/error/404';\n\t\topts = {\n\t\t\tmethod: 'HEAD'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.status).to.equal(404);\n\t\t\texpect(res.headers.get('content-encoding')).to.equal('gzip');\n\t\t\treturn res.text();\n\t\t}).then(function(text) {\n\t\t\texpect(text).to.equal('');\n\t\t});\n\t});\n\n\tit('should allow OPTIONS request', function() {\n\t\turl = base + '/options';\n\t\topts = {\n\t\t\tmethod: 'OPTIONS'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\texpect(res.statusText).to.equal('OK');\n\t\t\texpect(res.headers.get('allow')).to.equal('GET, HEAD, OPTIONS');\n\t\t\texpect(res.body).to.be.an.instanceof(stream.Transform);\n\t\t});\n\t});\n\n\tit('should reject decoding body twice', function() {\n\t\turl = base + '/plain';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(res.bodyUsed).to.be.true;\n\t\t\t\treturn expect(res.text()).to.eventually.be.rejectedWith(Error);\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should support maximum response size, multiple chunk', function() {\n\t\turl = base + '/size/chunk';\n\t\topts = {\n\t\t\tsize: 5\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn expect(res.text()).to.eventually.be.rejected\n\t\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t\t.and.have.property('type', 'max-size');\n\t\t});\n\t});\n\n\tit('should support maximum response size, single chunk', function() {\n\t\turl = base + '/size/long';\n\t\topts = {\n\t\t\tsize: 5\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\texpect(res.headers.get('content-type')).to.equal('text/plain');\n\t\t\treturn expect(res.text()).to.eventually.be.rejected\n\t\t\t\t.and.be.an.instanceOf(FetchError)\n\t\t\t\t.and.have.property('type', 'max-size');\n\t\t});\n\t});\n\n\tit('should support encoding decode, xml dtd detect', function() {\n\t\turl = base + '/encoding/euc-jp';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.equal('<?xml version=\"1.0\" encoding=\"EUC-JP\"?><title>日本語</title>');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should support encoding decode, content-type detect', function() {\n\t\turl = base + '/encoding/shift-jis';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.equal('<div>日本語</div>');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should support encoding decode, html5 detect', function() {\n\t\turl = base + '/encoding/gbk';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.equal('<meta charset=\"gbk\"><div>中文</div>');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should support encoding decode, html4 detect', function() {\n\t\turl = base + '/encoding/gb2312';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.equal('<meta http-equiv=\"Content-Type\" content=\"text/html; charset=gb2312\"><div>中文</div>');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should default to utf8 encoding', function() {\n\t\turl = base + '/encoding/utf8';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\texpect(res.headers.get('content-type')).to.be.null;\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.equal('中文');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should support uncommon content-type order, charset in front', function() {\n\t\turl = base + '/encoding/order1';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.equal('中文');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should support uncommon content-type order, end with qs', function() {\n\t\turl = base + '/encoding/order2';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.equal('中文');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should support chunked encoding, html4 detect', function() {\n\t\turl = base + '/encoding/chunked';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\t// because node v0.12 doesn't have str.repeat\n\t\t\tvar padding = new Array(10 + 1).join('a');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.equal(padding + '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=Shift_JIS\" /><div>日本語</div>');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should only do encoding detection up to 1024 bytes', function() {\n\t\turl = base + '/encoding/invalid';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\t// because node v0.12 doesn't have str.repeat\n\t\t\tvar padding = new Array(1200 + 1).join('a');\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(result).to.not.equal(padding + '中文');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should allow piping response body as stream', function(done) {\n\t\turl = base + '/hello';\n\t\tfetch(url).then(function(res) {\n\t\t\texpect(res.body).to.be.an.instanceof(stream.Transform);\n\t\t\tres.body.on('data', function(chunk) {\n\t\t\t\tif (chunk === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\texpect(chunk.toString()).to.equal('world');\n\t\t\t});\n\t\t\tres.body.on('end', function() {\n\t\t\t\tdone();\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should allow cloning a response, and use both as stream', function(done) {\n\t\turl = base + '/hello';\n\t\treturn fetch(url).then(function(res) {\n\t\t\tvar counter = 0;\n\t\t\tvar r1 = res.clone();\n\t\t\texpect(res.body).to.be.an.instanceof(stream.Transform);\n\t\t\texpect(r1.body).to.be.an.instanceof(stream.Transform);\n\t\t\tres.body.on('data', function(chunk) {\n\t\t\t\tif (chunk === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\texpect(chunk.toString()).to.equal('world');\n\t\t\t});\n\t\t\tres.body.on('end', function() {\n\t\t\t\tcounter++;\n\t\t\t\tif (counter == 2) {\n\t\t\t\t\tdone();\n\t\t\t\t}\n\t\t\t});\n\t\t\tr1.body.on('data', function(chunk) {\n\t\t\t\tif (chunk === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\texpect(chunk.toString()).to.equal('world');\n\t\t\t});\n\t\t\tr1.body.on('end', function() {\n\t\t\t\tcounter++;\n\t\t\t\tif (counter == 2) {\n\t\t\t\t\tdone();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should allow cloning a json response and log it as text response', function() {\n\t\turl = base + '/json';\n\t\treturn fetch(url).then(function(res) {\n\t\t\tvar r1 = res.clone();\n\t\t\treturn fetch.Promise.all([res.json(), r1.text()]).then(function(results) {\n\t\t\t\texpect(results[0]).to.deep.equal({name: 'value'});\n\t\t\t\texpect(results[1]).to.equal('{\"name\":\"value\"}');\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should allow cloning a json response, and then log it as text response', function() {\n\t\turl = base + '/json';\n\t\treturn fetch(url).then(function(res) {\n\t\t\tvar r1 = res.clone();\n\t\t\treturn res.json().then(function(result) {\n\t\t\t\texpect(result).to.deep.equal({name: 'value'});\n\t\t\t\treturn r1.text().then(function(result) {\n\t\t\t\t\texpect(result).to.equal('{\"name\":\"value\"}');\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should allow cloning a json response, first log as text response, then return json object', function() {\n\t\turl = base + '/json';\n\t\treturn fetch(url).then(function(res) {\n\t\t\tvar r1 = res.clone();\n\t\t\treturn r1.text().then(function(result) {\n\t\t\t\texpect(result).to.equal('{\"name\":\"value\"}');\n\t\t\t\treturn res.json().then(function(result) {\n\t\t\t\t\texpect(result).to.deep.equal({name: 'value'});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tit('should not allow cloning a response after its been used', function() {\n\t\turl = base + '/hello';\n\t\treturn fetch(url).then(function(res) {\n\t\t\treturn res.text().then(function(result) {\n\t\t\t\texpect(function() {\n\t\t\t\t\tvar r1 = res.clone();\n\t\t\t\t}).to.throw(Error);\n\t\t\t});\n\t\t})\n\t});\n\n\tit('should allow get all responses of a header', function() {\n\t\turl = base + '/cookie';\n\t\treturn fetch(url).then(function(res) {\n\t\t\texpect(res.headers.get('set-cookie')).to.equal('a=1');\n\t\t\texpect(res.headers.get('Set-Cookie')).to.equal('a=1');\n\t\t\texpect(res.headers.getAll('set-cookie')).to.deep.equal(['a=1', 'b=1']);\n\t\t\texpect(res.headers.getAll('Set-Cookie')).to.deep.equal(['a=1', 'b=1']);\n\t\t});\n\t});\n\n\tit('should allow iterating through all headers', function() {\n\t\tvar headers = new Headers({\n\t\t\ta: 1\n\t\t\t, b: [2, 3]\n\t\t\t, c: [4]\n\t\t});\n\t\texpect(headers).to.have.property('forEach');\n\n\t\tvar result = [];\n\t\theaders.forEach(function(val, key) {\n\t\t\tresult.push([key, val]);\n\t\t});\n\n\t\texpected = [\n\t\t\t[\"a\", \"1\"]\n\t\t\t, [\"b\", \"2\"]\n\t\t\t, [\"b\", \"3\"]\n\t\t\t, [\"c\", \"4\"]\n\t\t];\n\t\texpect(result).to.deep.equal(expected);\n\t});\n\n\tit('should allow deleting header', function() {\n\t\turl = base + '/cookie';\n\t\treturn fetch(url).then(function(res) {\n\t\t\tres.headers.delete('set-cookie');\n\t\t\texpect(res.headers.get('set-cookie')).to.be.null;\n\t\t\texpect(res.headers.getAll('set-cookie')).to.be.empty;\n\t\t});\n\t});\n\n\tit('should send request with connection keep-alive if agent is provided', function() {\n\t\turl = base + '/inspect';\n\t\topts = {\n\t\t\tagent: new http.Agent({\n\t\t\t\tkeepAlive: true\n\t\t\t})\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(res) {\n\t\t\texpect(res.headers['connection']).to.equal('keep-alive');\n\t\t});\n\t});\n\n\tit('should ignore unsupported attributes while reading headers', function() {\n\t\tvar FakeHeader = function() {};\n\t\t// prototypes are ignored\n\t\tFakeHeader.prototype.z = 'fake';\n\n\t\tvar res = new FakeHeader;\n\t\t// valid\n\t\tres.a = 'string';\n\t\tres.b = ['1','2'];\n\t\tres.c = '';\n\t\tres.d = [];\n\t\t// common mistakes, normalized\n\t\tres.e = 1;\n\t\tres.f = [1, 2];\n\t\t// invalid, ignored\n\t\tres.g = { a:1 };\n\t\tres.h = undefined;\n\t\tres.i = null;\n\t\tres.j = NaN;\n\t\tres.k = true;\n\t\tres.l = false;\n\t\tres.m = new Buffer('test');\n\n\t\tvar h1 = new Headers(res);\n\n\t\texpect(h1._headers['a']).to.include('string');\n\t\texpect(h1._headers['b']).to.include('1');\n\t\texpect(h1._headers['b']).to.include('2');\n\t\texpect(h1._headers['c']).to.include('');\n\t\texpect(h1._headers['d']).to.be.undefined;\n\n\t\texpect(h1._headers['e']).to.include('1');\n\t\texpect(h1._headers['f']).to.include('1');\n\t\texpect(h1._headers['f']).to.include('2');\n\n\t\texpect(h1._headers['g']).to.be.undefined;\n\t\texpect(h1._headers['h']).to.be.undefined;\n\t\texpect(h1._headers['i']).to.be.undefined;\n\t\texpect(h1._headers['j']).to.be.undefined;\n\t\texpect(h1._headers['k']).to.be.undefined;\n\t\texpect(h1._headers['l']).to.be.undefined;\n\t\texpect(h1._headers['m']).to.be.undefined;\n\n\t\texpect(h1._headers['z']).to.be.undefined;\n\t});\n\n\tit('should wrap headers', function() {\n\t\tvar h1 = new Headers({\n\t\t\ta: '1'\n\t\t});\n\n\t\tvar h2 = new Headers(h1);\n\t\th2.set('b', '1');\n\n\t\tvar h3 = new Headers(h2);\n\t\th3.append('a', '2');\n\n\t\texpect(h1._headers['a']).to.include('1');\n\t\texpect(h1._headers['a']).to.not.include('2');\n\n\t\texpect(h2._headers['a']).to.include('1');\n\t\texpect(h2._headers['a']).to.not.include('2');\n\t\texpect(h2._headers['b']).to.include('1');\n\n\t\texpect(h3._headers['a']).to.include('1');\n\t\texpect(h3._headers['a']).to.include('2');\n\t\texpect(h3._headers['b']).to.include('1');\n\t});\n\n\tit('should support fetch with Request instance', function() {\n\t\turl = base + '/hello';\n\t\tvar req = new Request(url);\n\t\treturn fetch(req).then(function(res) {\n\t\t\texpect(res.url).to.equal(url);\n\t\t\texpect(res.ok).to.be.true;\n\t\t\texpect(res.status).to.equal(200);\n\t\t});\n\t});\n\n\tit('should support wrapping Request instance', function() {\n\t\turl = base + '/hello';\n\n\t\tvar form = new FormData();\n\t\tform.append('a', '1');\n\n\t\tvar r1 = new Request(url, {\n\t\t\tmethod: 'POST'\n\t\t\t, follow: 1\n\t\t\t, body: form\n\t\t});\n\t\tvar r2 = new Request(r1, {\n\t\t\tfollow: 2\n\t\t});\n\n\t\texpect(r2.url).to.equal(url);\n\t\texpect(r2.method).to.equal('POST');\n\t\t// note that we didn't clone the body\n\t\texpect(r2.body).to.equal(form);\n\t\texpect(r1.follow).to.equal(1);\n\t\texpect(r2.follow).to.equal(2);\n\t\texpect(r1.counter).to.equal(0);\n\t\texpect(r2.counter).to.equal(0);\n\t});\n\n\tit('should support overwrite Request instance', function() {\n\t\turl = base + '/inspect';\n\t\tvar req = new Request(url, {\n\t\t\tmethod: 'POST'\n\t\t\t, headers: {\n\t\t\t\ta: '1'\n\t\t\t}\n\t\t});\n\t\treturn fetch(req, {\n\t\t\tmethod: 'GET'\n\t\t\t, headers: {\n\t\t\t\ta: '2'\n\t\t\t}\n\t\t}).then(function(res) {\n\t\t\treturn res.json();\n\t\t}).then(function(body) {\n\t\t\texpect(body.method).to.equal('GET');\n\t\t\texpect(body.headers.a).to.equal('2');\n\t\t});\n\t});\n\n\tit('should support empty options in Response constructor', function() {\n\t\tvar body = resumer().queue('a=1').end();\n\t\tbody = body.pipe(new stream.PassThrough());\n\t\tvar res = new Response(body);\n\t\treturn res.text().then(function(result) {\n\t\t\texpect(result).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should support parsing headers in Response constructor', function() {\n\t\tvar res = new Response(null, {\n\t\t\theaders: {\n\t\t\t\ta: '1'\n\t\t\t}\n\t\t});\n\t\texpect(res.headers.get('a')).to.equal('1');\n\t});\n\n\tit('should support text() method in Response constructor', function() {\n\t\tvar res = new Response('a=1');\n\t\treturn res.text().then(function(result) {\n\t\t\texpect(result).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should support json() method in Response constructor', function() {\n\t\tvar res = new Response('{\"a\":1}');\n\t\treturn res.json().then(function(result) {\n\t\t\texpect(result.a).to.equal(1);\n\t\t});\n\t});\n\n\tit('should support buffer() method in Response constructor', function() {\n\t\tvar res = new Response('a=1');\n\t\treturn res.buffer().then(function(result) {\n\t\t\texpect(result.toString()).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should support clone() method in Response constructor', function() {\n\t\tvar body = resumer().queue('a=1').end();\n\t\tbody = body.pipe(new stream.PassThrough());\n\t\tvar res = new Response(body, {\n\t\t\theaders: {\n\t\t\t\ta: '1'\n\t\t\t}\n\t\t\t, url: base\n\t\t\t, status: 346\n\t\t\t, statusText: 'production'\n\t\t});\n\t\tvar cl = res.clone();\n\t\texpect(cl.headers.get('a')).to.equal('1');\n\t\texpect(cl.url).to.equal(base);\n\t\texpect(cl.status).to.equal(346);\n\t\texpect(cl.statusText).to.equal('production');\n\t\texpect(cl.ok).to.be.false;\n\t\t// clone body shouldn't be the same body\n\t\texpect(cl.body).to.not.equal(body);\n\t\treturn cl.text().then(function(result) {\n\t\t\texpect(result).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should support stream as body in Response constructor', function() {\n\t\tvar body = resumer().queue('a=1').end();\n\t\tbody = body.pipe(new stream.PassThrough());\n\t\tvar res = new Response(body);\n\t\treturn res.text().then(function(result) {\n\t\t\texpect(result).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should support string as body in Response constructor', function() {\n\t\tvar res = new Response('a=1');\n\t\treturn res.text().then(function(result) {\n\t\t\texpect(result).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should support buffer as body in Response constructor', function() {\n\t\tvar res = new Response(new Buffer('a=1'));\n\t\treturn res.text().then(function(result) {\n\t\t\texpect(result).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should default to 200 as status code', function() {\n\t\tvar res = new Response(null);\n\t\texpect(res.status).to.equal(200);\n\t});\n\n\tit('should support parsing headers in Request constructor', function() {\n\t\turl = base;\n\t\tvar req = new Request(url, {\n\t\t\theaders: {\n\t\t\t\ta: '1'\n\t\t\t}\n\t\t});\n\t\texpect(req.url).to.equal(url);\n\t\texpect(req.headers.get('a')).to.equal('1');\n\t});\n\n\tit('should support text() method in Request constructor', function() {\n\t\turl = base;\n\t\tvar req = new Request(url, {\n\t\t\tbody: 'a=1'\n\t\t});\n\t\texpect(req.url).to.equal(url);\n\t\treturn req.text().then(function(result) {\n\t\t\texpect(result).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should support json() method in Request constructor', function() {\n\t\turl = base;\n\t\tvar req = new Request(url, {\n\t\t\tbody: '{\"a\":1}'\n\t\t});\n\t\texpect(req.url).to.equal(url);\n\t\treturn req.json().then(function(result) {\n\t\t\texpect(result.a).to.equal(1);\n\t\t});\n\t});\n\n\tit('should support buffer() method in Request constructor', function() {\n\t\turl = base;\n\t\tvar req = new Request(url, {\n\t\t\tbody: 'a=1'\n\t\t});\n\t\texpect(req.url).to.equal(url);\n\t\treturn req.buffer().then(function(result) {\n\t\t\texpect(result.toString()).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should support arbitrary url in Request constructor', function() {\n\t\turl = 'anything';\n\t\tvar req = new Request(url);\n\t\texpect(req.url).to.equal('anything');\n\t});\n\n\tit('should support clone() method in Request constructor', function() {\n\t\turl = base;\n\t\tvar body = resumer().queue('a=1').end();\n\t\tbody = body.pipe(new stream.PassThrough());\n\t\tvar agent = new http.Agent();\n\t\tvar req = new Request(url, {\n\t\t\tbody: body\n\t\t\t, method: 'POST'\n\t\t\t, redirect: 'manual'\n\t\t\t, headers: {\n\t\t\t\tb: '2'\n\t\t\t}\n\t\t\t, follow: 3\n\t\t\t, compress: false\n\t\t\t, agent: agent\n\t\t});\n\t\tvar cl = req.clone();\n\t\texpect(cl.url).to.equal(url);\n\t\texpect(cl.method).to.equal('POST');\n\t\texpect(cl.redirect).to.equal('manual');\n\t\texpect(cl.headers.get('b')).to.equal('2');\n\t\texpect(cl.follow).to.equal(3);\n\t\texpect(cl.compress).to.equal(false);\n\t\texpect(cl.method).to.equal('POST');\n\t\texpect(cl.counter).to.equal(0);\n\t\texpect(cl.agent).to.equal(agent);\n\t\t// clone body shouldn't be the same body\n\t\texpect(cl.body).to.not.equal(body);\n\t\treturn fetch.Promise.all([cl.text(), req.text()]).then(function(results) {\n\t\t\texpect(results[0]).to.equal('a=1');\n\t\t\texpect(results[1]).to.equal('a=1');\n\t\t});\n\t});\n\n\tit('should support text(), json() and buffer() method in Body constructor', function() {\n\t\tvar body = new Body('a=1');\n\t\texpect(body).to.have.property('text');\n\t\texpect(body).to.have.property('json');\n\t\texpect(body).to.have.property('buffer');\n\t});\n\n\tit('should create custom FetchError', function funcName() {\n\t\tvar systemError = new Error('system');\n\t\tsystemError.code = 'ESOMEERROR';\n\n\t\tvar err = new FetchError('test message', 'test-error', systemError);\n\t\texpect(err).to.be.an.instanceof(Error);\n\t\texpect(err).to.be.an.instanceof(FetchError);\n\t\texpect(err.name).to.equal('FetchError');\n\t\texpect(err.message).to.equal('test message');\n\t\texpect(err.type).to.equal('test-error');\n\t\texpect(err.code).to.equal('ESOMEERROR');\n\t\texpect(err.errno).to.equal('ESOMEERROR');\n\t\texpect(err.stack).to.include('funcName');\n\t\texpect(err.stack.split('\\n')[0]).to.equal(err.name + ': ' + err.message);\n\t});\n\n\tit('should support https request', function() {\n\t\tthis.timeout(5000);\n\t\turl = 'https://github.com/';\n\t\topts = {\n\t\t\tmethod: 'HEAD'\n\t\t};\n\t\treturn fetch(url, opts).then(function(res) {\n\t\t\texpect(res.status).to.equal(200);\n\t\t\texpect(res.ok).to.be.true;\n\t\t});\n\t});\n\n});\n"]}