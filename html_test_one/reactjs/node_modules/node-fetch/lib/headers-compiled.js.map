{"version":3,"sources":["headers.js"],"names":[],"mappings":"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","file":"headers-compiled.js","sourcesContent":["\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nmodule.exports = Headers;\n\n/**\n * Headers class\n *\n * @param   Object  headers  Response headers\n * @return  Void\n */\nfunction Headers(headers) {\n\n\tvar self = this;\n\tthis._headers = {};\n\n\t// Headers\n\tif (headers instanceof Headers) {\n\t\theaders = headers.raw();\n\t}\n\n\t// plain object\n\tfor (var prop in headers) {\n\t\tif (!headers.hasOwnProperty(prop)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (typeof headers[prop] === 'string') {\n\t\t\tthis.set(prop, headers[prop]);\n\n\t\t} else if (typeof headers[prop] === 'number' && !isNaN(headers[prop])) {\n\t\t\tthis.set(prop, headers[prop].toString());\n\n\t\t} else if (Array.isArray(headers[prop])) {\n\t\t\theaders[prop].forEach(function(item) {\n\t\t\t\tself.append(prop, item.toString());\n\t\t\t});\n\t\t}\n\t}\n\n}\n\n/**\n * Return first header value given name\n *\n * @param   String  name  Header name\n * @return  Mixed\n */\nHeaders.prototype.get = function(name) {\n\tvar list = this._headers[name.toLowerCase()];\n\treturn list ? list[0] : null;\n};\n\n/**\n * Return all header values given name\n *\n * @param   String  name  Header name\n * @return  Array\n */\nHeaders.prototype.getAll = function(name) {\n\tif (!this.has(name)) {\n\t\treturn [];\n\t}\n\n\treturn this._headers[name.toLowerCase()];\n};\n\n/**\n * Iterate over all headers\n *\n * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n * @param   Boolean   thisArg   `this` context for callback function\n * @return  Void\n */\nHeaders.prototype.forEach = function(callback, thisArg) {\n\tObject.getOwnPropertyNames(this._headers).forEach(function(name) {\n\t\tthis._headers[name].forEach(function(value) {\n\t\t\tcallback.call(thisArg, value, name, this)\n\t\t}, this)\n\t}, this)\n}\n\n/**\n * Overwrite header values given name\n *\n * @param   String  name   Header name\n * @param   String  value  Header value\n * @return  Void\n */\nHeaders.prototype.set = function(name, value) {\n\tthis._headers[name.toLowerCase()] = [value];\n};\n\n/**\n * Append a value onto existing header\n *\n * @param   String  name   Header name\n * @param   String  value  Header value\n * @return  Void\n */\nHeaders.prototype.append = function(name, value) {\n\tif (!this.has(name)) {\n\t\tthis.set(name, value);\n\t\treturn;\n\t}\n\n\tthis._headers[name.toLowerCase()].push(value);\n};\n\n/**\n * Check for header name existence\n *\n * @param   String   name  Header name\n * @return  Boolean\n */\nHeaders.prototype.has = function(name) {\n\treturn this._headers.hasOwnProperty(name.toLowerCase());\n};\n\n/**\n * Delete all header values given name\n *\n * @param   String  name  Header name\n * @return  Void\n */\nHeaders.prototype['delete'] = function(name) {\n\tdelete this._headers[name.toLowerCase()];\n};\n\n/**\n * Return raw headers (non-spec api)\n *\n * @return  Object\n */\nHeaders.prototype.raw = function() {\n\treturn this._headers;\n};\n"]}